<script>
    import AtomCalendar from "@web-atoms/web-controls/dist/calendar/AtomCalendar"
    import CalendarViewModel from "./CalendarViewModel";
</script>
<div view-model="{ this.resolve(CalendarViewModel) }">
    <AtomCalendar 
        style-width="700px"
        event-date-clicked="{ (e) => this.viewModel.dateClicked(e.detail) }" >
        <div 
            event-click="{ ()=> $localViewModel.dateClicked($data)}"
            template="itemTemplate">
            <div
                style="min-width: 100px; height: 100px"
                text="{$data.label}"
                style-background-color="[ $viewModel.isOdd($data) ? 'lightgray' : '' ]"
                class="[ ({
                    'date-css': 1,
                    'is-other-month': $data.isOtherMonth,
                    'is-today': $data.isToday,
                    'is-weekend': $data.isWeekend,
                    'is-selected': $localViewModel.selectedDate == $data.value,
                    'is-disabled': $localViewModel.enableFunc ? $localViewModel.enableFunc($data) : 0
                }) ]"></div>
        </div>
    </AtomCalendar>
    <pre text="[$viewModel.log]"></pre>
</div>