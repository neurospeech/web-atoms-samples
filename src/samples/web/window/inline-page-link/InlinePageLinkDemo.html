<script>
    import InlinePageLinkViewModel from "./InlinePageLinkViewModel";
    import WindowSample from "../simple/WindowSample";
</script>
<div view-model="{ this.resolve(InlinePageLinkViewModel) }" >

    <!-- Clicking this button will open the page template as popup -->
    <!-- And result will be sent in the event -->

    <AtomPageLink.button
        parameters="{ {  } }"
        event-result="{ (e) => this.viewModel.onResult(e.detail) }"
        event-error="{ (e) => this.viewModel.onError(e.detail) }"
        text="Open">
        <div template="page">
            <div>This is the popup window</div>
            <div>This will close as soon as you click outside of it</div>
            <div>You can access parent viewModel by referring $viewModel.parent</div>
            <button event-click="{ () => $viewModel.close('success') }" >Ok</button>
        </div>
    </AtomPageLink.button>

    <div text="[ $viewModel.result ]"></div>

    <div text="[ $viewModel.error ]" style="color: red"></div>
</div>