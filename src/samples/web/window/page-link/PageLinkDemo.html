<script>
    import PageLinkViewModel from "./PageLinkViewModel";
    import WindowSample from "../simple/WindowSample";
</script>
<div view-model="{ this.resolve(PageLinkViewModel) }" >

    <!-- Clicking this button will open the window -->
    <!-- And result will be sent in the event -->

    <!-- Event get-parameters will be executed before
        opening window/popup, parameters set on this event
        will override bound parameters. It is recommended
        to use event-get-parameters over parameters binding
        as it will reduce binding memory  -->

    <AtomPageLink.button
        page="{ WindowSample }"
        event-get-parameters="{ (e) => e.detail.parameters = { name: 'demo' } }"
        event-result="{ (e) => this.viewModel.onResult(e.detail) }"
        event-error="{ (e) => this.viewModel.onError(e.detail) }"
        >Open</AtomPageLink.button>

    <div text="[ $viewModel.result ]"></div>

    <div text="[ $viewModel.error ]" style="color: red"></div>
</div>